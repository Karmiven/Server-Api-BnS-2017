function togglePlayPause(){var e=document.getElementById("videoPlayer"),t=document.getElementById("playButton");e.paused?(e.play(),t.style.display="none"):(e.pause(),t.style.display="block")}function setClassDifficulty(e){let t={Assassin:5,"Blade Master":4,Destroyer:3,"Force Master":3,"Kung Fu Master":4.5,Summoner:1,"Blade Dancer":4,Warlock:2.5,"Soul Fighter":5,Gunslinger:2,Warden:3.5,"Zen Archer":4,"Dual Blade":3}[e]||1,s=document.getElementById("modal-difficulty-stars");s.innerHTML="";for(let l=1;l<=5;l++){let a=document.createElement("div");a.classList.add("star"),l<=t?a.classList.add("star-filled"):a.classList.add("star-empty"),s.appendChild(a)}}document.getElementById("playButton").addEventListener("click",function(){var e=document.getElementById("videoPlayer"),t=document.getElementById("playButton"),s=document.getElementById("videoThumbnail");t.style.display="none",s.style.display="none",e.classList.remove("d-none"),e.style.display="block",e.play()}),document.addEventListener("DOMContentLoaded",function(){let e=localStorage.getItem("username"),t=document.getElementById("profileLink"),s=document.getElementById("username"),l=document.getElementById("usernameContainer"),a=document.querySelector(".signup-container"),n=document.querySelector(".signup-text"),o=window.location.origin;e?(t.href=`${o}/profile?userName=${encodeURIComponent(e)}`,s.textContent=e,l.classList.remove("d-none"),a.classList.add("d-none"),n.classList.add("d-none")):(l.classList.add("d-none"),a.classList.remove("d-none"),n.classList.remove("d-none"))}),document.getElementById("logoutLink").addEventListener("click",function(e){e.preventDefault(),localStorage.removeItem("username"),window.location.reload()}),document.addEventListener("DOMContentLoaded",function(){let e=localStorage.getItem("UserName"),t=window.location.pathname,s=new URL(window.location.href),l=s.searchParams.get("userName"),a=document.getElementById("profileLink"),n=document.getElementById("donateItem");"/donate"===t&&l&&(l!==e?(alert("Вы не можете делать пожертвования, так как вы не авторизованы с этим аккаунтом."),window.location.href="/"):console.log("Добро пожаловать, "+l)),e?a&&(a.href=`/profile?userName=${encodeURIComponent(e)}`):n&&n.classList.add("d-none")}),document.querySelectorAll(".game-classes-icon").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("data-class"),s=this.getAttribute("data-image"),l=this.getAttribute("data-description"),a=JSON.parse(this.getAttribute("data-races")),n=JSON.parse(this.getAttribute("data-races-text"));document.getElementById("modal-class-title").innerText=t,document.getElementById("modal-class-image").src=s,document.getElementById("modal-class-description").innerText=l;let o=document.getElementById("modal-races-images");o.innerHTML="",a.forEach((e,t)=>{let s=document.createElement("img");s.src=e;let l=document.createElement("p");l.innerText=n[t];let a=document.createElement("div");a.classList.add("race-container"),a.appendChild(s),a.appendChild(l),o.appendChild(a)}),setClassDifficulty(t);let i=document.getElementById("customModal");i.style.display="block",setTimeout(()=>{i.classList.add("show")},10);let r=i.querySelector(".custom-modal-content");setTimeout(()=>{r.classList.add("show")},100);let d=document.querySelector(".modal-image"),c=document.querySelector(".modal-text");d.classList.add("show"),c.classList.add("show")})}),document.querySelector(".close-button").addEventListener("click",function(){let e=document.getElementById("customModal");e.classList.remove("show");let t=e.querySelector(".custom-modal-content");t.classList.remove("show");let s=document.querySelector(".modal-image"),l=document.querySelector(".modal-text");s.classList.remove("show"),l.classList.remove("show"),setTimeout(()=>{e.style.display="none"},500)}),window.addEventListener("click",function(e){let t=document.getElementById("customModal");if(e.target===t){t.classList.remove("show");let s=t.querySelector(".custom-modal-content");s.classList.remove("show");let l=document.querySelector(".modal-image"),a=document.querySelector(".modal-text");l.classList.remove("show"),a.classList.remove("show"),setTimeout(()=>{t.style.display="none"},500)}}),setClassDifficulty("Assassin"),setClassDifficulty("Blade Master"),setClassDifficulty("Destroyer"),setClassDifficulty("Force Master"),setClassDifficulty("Kung Fu Master"),setClassDifficulty("Summoner"),setClassDifficulty("Blade Dancer"),setClassDifficulty("Warlock"),setClassDifficulty("Soul Fighter"),setClassDifficulty("Gunslinger"),setClassDifficulty("Warden"),setClassDifficulty("Zen Archer"),setClassDifficulty("Dual Blade"),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".lazy-section"),t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},{threshold:.1});e.forEach(e=>{t.observe(e)})}),window.addEventListener("load",function(){let e=document.getElementById("preloader");e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500)}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("eventsCarousel");e.style.display="block";let t=new bootstrap.Carousel(e);t.cycle()}),document.querySelectorAll('a.nav-link[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href").substring(1),s=document.getElementById(t);if(s){let l=document.querySelector(".custom-navbar").offsetHeight,a=s.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:a-l-10,behavior:"smooth"})}})});
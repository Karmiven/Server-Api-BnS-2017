<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Admin Portal</title>
      <link rel="icon" href="/images/favicon-admin.png" type="image/png">
      <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
      <link rel="stylesheet" href="/node_modules/bootstrap-icons/font/bootstrap-icons.css">
      <link rel="stylesheet" href="/node_modules/@fortawesome/fontawesome-free/css/all.min.css">
      <link rel="stylesheet" href="/css/admin-login.css">
   </head>
   <body class="bg-light d-flex flex-column min-vh-100">
      <div class="container">
         <div class="row justify-content-center align-items-center min-vh-100">
            <div class="col-md-6 col-lg-4">
               <!-- Login Card -->
               <div class="card shadow-lg border-0 rounded-3">
                  <div class="card-body p-4">
                     <!-- Header with icon -->
                     <div class="text-center mb-4">
                        <div class="bg-primary bg-gradient p-3 rounded-circle d-inline-block mb-3">
                           <i class="fas fa-lock text-white fs-3"></i>
                        </div>
                        <h3 class="fw-bold mb-0">Admin Portal</h3>
                        <p class="text-muted small">Secure access only</p>
                     </div>
                     <!-- Error message -->
                     <% if (errorMessage) { %>
                     <div class="alert alert-danger d-flex align-items-center mb-3 py-2" role="alert">
                        <i class="fas fa-exclamation-circle me-2"></i>
                        <div><%= errorMessage %></div>
                     </div>
                     <% } %>
                     <!-- Login Form -->
                     <form action="/admin/login" method="POST">
                        <div class="mb-3">
                           <label for="username" class="form-label small text-uppercase fw-bold text-muted">Username</label>
                           <div class="input-group">
                              <span class="input-group-text bg-light"><i class="fas fa-user text-muted"></i></span>
                              <input type="text" class="form-control" id="username" name="username" placeholder="Enter admin username" required>
                           </div>
                        </div>
                        <div class="mb-4">
                           <label for="password" class="form-label small text-uppercase fw-bold text-muted">Password</label>
                           <div class="input-group">
                              <span class="input-group-text bg-light"><i class="fas fa-key text-muted"></i></span>
                              <input type="password" class="form-control border-end-0" id="password" name="password" placeholder="Enter password" required>
                              <button class="btn btn-outline-secondary border-start-0 toggle-password" type="button">
                              <i class="far fa-eye" id="toggleIcon"></i>
                              </button>
                           </div>
                        </div>
                        <button type="submit" class="btn btn-primary w-100 py-2 mb-3 fw-bold">
                        <i class="fas fa-sign-in-alt me-2"></i>Login
                        </button>
                        <div class="text-center small text-muted">
                           <i class="fas fa-shield-alt me-1"></i> Restricted access area
                        </div>
                     </form>
                  </div>
               </div>
               <!-- Home link -->
               <div class="text-center mt-3">
                  <a href="/" class="btn btn-sm btn-outline-secondary">
                  <i class="fas fa-arrow-left me-1"></i>Return to Home
                  </a>
               </div>
            </div>
         </div>
      </div>
      <!-- Centered Modal Notification -->
      <div class="modal fade" id="errorModal" tabindex="-1" aria-hidden="true" data-has-error="<%= errorMessage ? 'true' : 'false' %>">
         <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 shadow">
               <div class="modal-header border-0 bg-danger text-white">
                  <h5 class="modal-title">
                     <i class="fas fa-exclamation-triangle me-2"></i>Access Denied
                  </h5>
                  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
               </div>
               <div class="modal-body text-center py-4">
                  <div class="mb-3">
                     <i class="fas fa-lock fa-4x text-danger"></i>
                  </div>
                  <h4 class="fw-bold mb-2">Administrators Only!</h4>
                  <p class="mb-0">This panel is restricted to authorized personnel only.</p>
               </div>
               <div class="modal-footer border-0 justify-content-center">
                  <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                  <i class="fas fa-times me-1"></i>Close
                  </button>
               </div>
            </div>
         </div>
      </div>
      <%- include('partials/adminFooter') %>
      <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
      <script src="/js/admin-login.js"></script>
   </body>
</html>
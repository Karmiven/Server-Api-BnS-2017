<!-- partials/promoMobileRow.ejs -->
<td class="d-md-none">
   <div class="d-flex flex-column">
      <div class="d-flex justify-content-between align-items-center mb-2">
         <span class="fw-bold">#<%= promo.PromotionId %></span>
         <span class="badge <%= statusClass %> status-badge rounded-pill">
         <i class="fas <%= statusIcon %> me-1"></i><%= statusText %>
         </span>
      </div>
      <div class="fw-medium text-primary mb-1 promo-name">
         <i class="fas fa-tag me-1"></i><%= promo.PromotionName %>
      </div>
      <div class="text-muted small mb-2">
         <i class="fas fa-align-left me-1"></i><%= promo.PromotionDescription %>
      </div>
      <div class="d-flex flex-wrap gap-1 mb-2">
         <span class="badge bg-light text-dark badge-detail">
         <i class="fas fa-calendar-plus me-1"></i>
         <%= new Date(promo.EffectiveFrom).toLocaleDateString('en-US', {year: 'numeric', month: 'short', day: 'numeric'}) %>
         </span>
         <span class="badge bg-light text-dark badge-detail">
         <i class="fas fa-calendar-minus me-1"></i>
         <%= endDate.toLocaleDateString('en-US', {year: 'numeric', month: 'short', day: 'numeric'}) %>
         </span>
      </div>
      <div class="promo-limits mb-2">
         <div class="d-flex justify-content-between">
            <span><i class="fas fa-ticket-alt me-1"></i>Total Plays:</span>
            <span class="fw-bold"><%= promo.PlayableCount %></span>
         </div>
         <div class="d-flex justify-content-between">
            <span><i class="fas fa-gift me-1"></i>Free Plays:</span>
            <span class="fw-bold"><%= promo.MaximumFreePlayableCount %></span>
         </div>
      </div>
      <div class="d-flex gap-2 mt-2">
         <form action="/admin/promotions/update-effectivedate" method="POST" class="d-inline extend-promo-form">
            <input type="hidden" name="PromotionId" value="<%= promo.PromotionId %>">
            <button type="submit" class="btn btn-sm btn-outline-warning" title="Extend">
            <i class="fas fa-calendar-plus"></i>
            </button>
         </form>
         <% if (isActive) { %>
         <button class="btn btn-sm btn-outline-danger stop-event-btn" data-promo-id="<%= promo.PromotionId %>" title="Stop">
         <i class="fas fa-stop-circle"></i>
         </button>
         <% } else { %>
         <button class="btn btn-sm btn-outline-secondary disabled-btn" disabled title="Not Active">
         <i class="fas fa-stop-circle"></i>
         </button>
         <% } %>
         <button class="btn btn-sm <%= hasAutoRenew ? 'btn-success' : 'btn-outline-success' %> auto-renew-btn <%= isActive ? '' : 'disabled-btn' %>" 
            data-promo-id="<%= promo.PromotionId %>"
            data-auto-renew="<%= hasAutoRenew %>"
            <%= isActive ? '' : 'disabled' %>
            title="<%= hasAutoRenew ? 'Auto ON' : 'Auto OFF' %>">
         <i class="fas fa-redo"></i>
         </button>
      </div>
   </div>
</td>
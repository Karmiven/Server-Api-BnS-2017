<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>System Stats</title>
      <link rel="icon" href="../images/favicon-admin.png" type="image/png">
      <link href="/node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
      <link rel="stylesheet" href="/node_modules/bootstrap-icons/font/bootstrap-icons.css">
      <link rel="stylesheet" href="/node_modules/@fortawesome/fontawesome-free/css/all.min.css">
      <script src="/node_modules/chart.js/dist/chart.umd.js"></script>
      <link rel="stylesheet" href="/css/admin-system-stats.css">
   </head>
   <body class="bg-light d-flex flex-column min-vh-100">
      <%- include('partials/nav') %>
      <main class="flex-grow-1 pb-5">
         <div class="container py-4">
            <div class="d-flex justify-content-between align-items-center mb-4">
               <h2 class="mb-0">
                  <i class="bi bi-speedometer2 me-2 text-primary"></i>System Statistics
               </h2>
               <div>
                  <span class="badge bg-primary bg-opacity-10 text-primary fs-6 me-2">
                  <i class="bi bi-clock-history me-1"></i>
                  <span id="serverStartTime">00:00:00</span>
                  </span>
                  <span class="badge bg-info bg-opacity-10 text-info fs-6">
                  <i class="bi bi-clock me-1"></i>
                  <span id="currentTime">00:00:00</span>
                  </span>
               </div>
            </div>
            <div class="row g-4 mb-4">
               <!-- CPU Card -->
               <div class="col-md-6">
                  <div class="stat-card card border-0 shadow-sm h-100">
                     <div class="card-header bg-white border-0">
                        <h3 class="card-title mb-0">
                           <i class="bi bi-cpu text-danger me-2"></i>CPU Usage
                        </h3>
                     </div>
                     <div class="card-body text-center py-4">
                        <canvas id="combinedCpuChart"></canvas>
                        <div class="row mt-4">
                           <div class="col-6">
                              <div class="p-3 bg-danger bg-opacity-10 rounded">
                                 <h5 class="mb-1 text-danger">
                                    <i class="bi bi-arrow-up-right"></i> Used
                                 </h5>
                                 <h3 class="mb-0 fw-bold"><span id="usedCpu">0</span>%</h3>
                              </div>
                           </div>
                           <div class="col-6">
                              <div class="p-3 bg-success bg-opacity-10 rounded">
                                 <h5 class="mb-1 text-success">
                                    <i class="bi bi-arrow-down-right"></i> Free
                                 </h5>
                                 <h3 class="mb-0 fw-bold"><span id="freeCpu">0</span>%</h3>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- Memory Card -->
               <div class="col-md-6">
                  <div class="stat-card card border-0 shadow-sm h-100">
                     <div class="card-header bg-white border-0">
                        <h3 class="card-title mb-0">
                           <i class="bi bi-memory text-purple me-2"></i>Memory Usage
                        </h3>
                     </div>
                     <div class="card-body text-center py-4">
                        <canvas id="combinedMemoryChart"></canvas>
                        <div class="row mt-4">
                           <div class="col-6">
                              <div class="p-3 bg-purple bg-opacity-10 rounded">
                                 <h5 class="mb-1 text-purple">
                                    <i class="bi bi-file-bar-graph"></i> Total
                                 </h5>
                                 <h3 class="mb-0 fw-bold"><span id="totalMemory">0</span> MB</h3>
                              </div>
                           </div>
                           <div class="col-6">
                              <div class="p-3 bg-success bg-opacity-10 rounded">
                                 <h5 class="mb-1 text-success">
                                    <i class="bi bi-check-circle"></i> Free
                                 </h5>
                                 <h3 class="mb-0 fw-bold"><span id="freeMemory">0</span> MB</h3>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <!-- Accordions -->
            <div class="row g-4">
               <div class="col-md-6">
                  <div class="card border-0 shadow-sm">
                     <div class="card-header bg-white border-0">
                        <h3 class="card-title mb-0">
                           <i class="bi bi-pc-display text-info me-2"></i>System Information
                        </h3>
                     </div>
                     <div class="card-body p-0">
                        <div class="accordion accordion-flush" id="systemInfoAccordion">
                           <div class="accordion-item">
                              <h2 class="accordion-header" id="headingSystemInfo">
                                 <button class="accordion-button fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSystemInfo" aria-expanded="true" aria-controls="collapseSystemInfo">
                                 <i class="bi bi-info-circle me-2 text-info"></i>Detailed System Information
                                 </button>
                              </h2>
                              <div id="collapseSystemInfo" class="accordion-collapse collapse" aria-labelledby="headingSystemInfo" data-bs-parent="#systemInfoAccordion">
                                 <div class="accordion-body">
                                    <ul class="list-group list-group-flush">
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-cpu me-2 text-secondary"></i><strong>CPU Model:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="cpuModel">-</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-speedometer me-2 text-secondary"></i><strong>CPU Speed:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="cpuSpeed">0</span> MHz
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-collection me-2 text-secondary"></i><strong>CPU Cores:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="cpuCores">0</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-memory me-2 text-secondary"></i><strong>Total Memory:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="systemTotalMemory">0</span> MB
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-check-circle me-2 text-secondary"></i><strong>Free Memory:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="systemFreeMemory">0</span> MB
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-windows me-2 text-secondary"></i><strong>OS Type:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="osType">-</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-tag me-2 text-secondary"></i><strong>OS Version:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="osRelease">-</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-device-hdd me-2 text-secondary"></i><strong>Platform:</strong></span>
                                          <span class="badge bg-secondary bg-opacity-10 text-secondary" id="platform">-</span>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-md-6">
                  <div class="card border-0 shadow-sm">
                     <div class="card-header bg-white border-0">
                        <h3 class="card-title mb-0">
                           <i class="bi bi-terminal text-warning me-2"></i>Process Information
                        </h3>
                     </div>
                     <div class="card-body p-0">
                        <div class="accordion accordion-flush" id="processInfoAccordion">
                           <div class="accordion-item">
                              <h2 class="accordion-header" id="headingProcessInfo">
                                 <button class="accordion-button fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#collapseProcessInfo" aria-expanded="true" aria-controls="collapseProcessInfo">
                                 <i class="bi bi-gear me-2 text-warning"></i>Server Api Process Information
                                 </button>
                              </h2>
                              <div id="collapseProcessInfo" class="accordion-collapse collapse" aria-labelledby="headingProcessInfo" data-bs-parent="#processInfoAccordion">
                                 <div class="accordion-body">
                                    <ul class="list-group list-group-flush">
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-123 me-2 text-warning"></i><strong>PID:</strong></span>
                                          <span class="badge bg-warning bg-opacity-10 text-warning" id="processPid">N/A</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-file-earmark-text me-2 text-warning"></i><strong>Process Name:</strong></span>
                                          <span class="badge bg-warning bg-opacity-10 text-warning" id="processName">N/A</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-memory me-2 text-warning"></i><strong>Memory Usage:</strong></span>
                                          <span class="badge bg-warning bg-opacity-10 text-warning" id="processMemory">N/A</span>
                                       </li>
                                       <li class="list-group-item d-flex justify-content-between align-items-center">
                                          <span><i class="bi bi-graph-up me-2 text-warning"></i><strong>CPU Usage:</strong></span>
                                          <span class="badge bg-warning bg-opacity-10 text-warning" id="processCpu">N/A</span>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </main>
      <%- include('partials/adminFooter') %>
      <script src="/js/admin-system-stats.js"></script>
      <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
   </body>
</html>